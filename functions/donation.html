<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="Content-Security-Policy" content="frame-ancestors 'none';">
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Support Us</title>
    <link rel="stylesheet" href="https://countify-black.vercel.app/css/mdui.min.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet" />
<script src="security.js"></script>
<script src="config.js"></script>
    <style>
        :root {
            --primary-50: #f5f3ff;
            --primary-100: #ede9fe;
            --primary-200: #ddd6fe;
            --primary-300: #0081FF;
            --primary-400: #0081FF;
            --primary-500: #0081FF;
            --primary-600: #0081FF;
            --primary-700: #0081FF;
            --primary-800: #0081FF;
            --primary-900: #0081FF;

            --secondary-50: #ecfdf5;
            --secondary-100: #d1fae5;
            --secondary-200: #a7f3d0;
            --secondary-300: #6ee7b7;
            --secondary-400: #34d399;
            --secondary-500: #10b981;
            --secondary-600: #059669;
            --secondary-700: #047857;
            --secondary-800: #065f46;
            --secondary-900: #064e3b;

            --gray-50: #f9fafb;
            --gray-100: #f3f4f6;
            --gray-200: #e5e7eb;
            --gray-300: #d1d5db;
            --gray-400: #9ca3af;
            --gray-500: #6b7280;
            --gray-600: #4b5563;
            --gray-700: #374151;
            --gray-800: #1f2937;
            --gray-900: #111827;

            --text-primary: var(--gray-900);
            --text-secondary: var(--gray-600);
            --text-tertiary: var(--gray-400);
            --background: var(--gray-50);
            --surface: #ffffff;
            --error: #ef4444;
            --success: #10b981;
            --warning: #f59e0b;
            --border-radius: 16px;
            --border-radius-sm: 8px;
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            --elevation-1: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --elevation-2: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --glass-opacity: 0.7;
            --glass-blur: 12px;
        }

        [data-theme="dark"] {
            --text-primary: var(--gray-100);
            --text-secondary: var(--gray-300);
            --text-tertiary: var(--gray-500);
            --background: var(--gray-900);
            --surface: var(--gray-800);
            --box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
        }

        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--background);
            color: var(--text-primary);
            margin: 0;
            transition: var(--transition);
            line-height: 1.6;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Accessibility improvements */
        a:focus,
        input:focus,
        select:focus,
        textarea:focus {
            outline: 2px solid var(--primary-500);
            outline-offset: 2px;
        }

        .skip-link {
            position: absolute;
            top: -40px;
            left: 0;
            background: var(--primary-600);
            color: white;
            padding: 8px;
            z-index: 100;
            transition: top 0.3s;
        }

        .skip-link:focus {
            top: 0;
        }

        header {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 16px 20px;
            position: sticky;
            top: 0;
            z-index: 1000;

            backdrop-filter: blur(20px) saturate(180%);
            -webkit-backdrop-filter: blur(20px) saturate(180%);
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);

            box-shadow: inset 0 0 0.25px rgba(255, 255, 255, 0.3),
                inset 0 0 0.5px rgba(255, 255, 255, 0.15);
            transition: background 0.3s ease, border 0.3s ease;
        }

        [data-theme="dark"] header {
            background: rgba(18, 18, 18, 0.6);
            /* semi-transparent for dark mode */
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);

            box-shadow: inset 0 0 0.25px rgba(255, 255, 255, 0.08),
                inset 0 0 0.5px rgba(255, 255, 255, 0.04);
        }

        .back-button {
            border: 1px solid rgba(0, 0, 0, 0.05);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: var(--primary-600);
            font-size: 18px;
            cursor: pointer;
            transition: all 0.25s ease;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .back-button:hover {
            transform: scale(1.05) translateY(-1px);
            background: rgba(255, 255, 255, 0.7);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .back-button:active {
            transform: scale(0.98);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.12) inset;
        }

        [data-theme="dark"] .back-button:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .container {
            padding: 24px 20px;
            max-width: 600px;
            margin: 0 auto;
            animation: fadeSlide 0.5s ease-out both;
        }

        .hero {
            text-align: center;
            margin-bottom: 32px;
        }

        .hero-icon {
            font-size: 48px;
            color: var(--primary-500);
            margin-bottom: 16px;
        }

        .hero h1 {
            font-size: 24px;
            font-weight: 600;
            margin: 0 0 8px;
        }

        .hero p {
            color: var(--text-secondary);
            font-size: 15px;
            margin: 0;
            max-width: 80%;
            margin: 0 auto;
        }

        .donation-card {
            background: var(--surface);
            border-radius: 30px;
            padding: 24px;
            margin-bottom: 24px;
            border: 1px solid rgba(0, 0, 0, 0.05);
        }

        [data-theme="dark"] .donation-card {
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .donation-card h2 {
            font-size: 18px;
            font-weight: 500;
            margin: 0 0 16px;
            text-align: center;
            color: var(--text-primary);
        }

        .donation-options {
            display: flex;
            gap: 12px;
            margin-bottom: 20px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .donation-option {
            background: var(--primary-50);
            border-radius: 20px;
            padding: 12px 16px;
            font-weight: 500;
            color: var(--primary-700);
            cursor: pointer;
            transition: var(--transition);
            border: 1px solid var(--primary-100);
        }

        [data-theme="dark"] .donation-option {
            background: var(--primary-900);
            color: var(--primary-100);
            border-color: var(--primary-800);
        }

        .donation-option:hover,
        .donation-option:focus {
            background: var(--primary-100);
            transform: translateY(-2px);
        }

        [data-theme="dark"] .donation-option:hover,
        [data-theme="dark"] .donation-option:focus {
            background: var(--primary-800);
        }

        .donation-option.active {
            background: var(--primary-500);
            color: white;
            transform: translateY(-2px) scale(1.05);
            box-shadow:
                inset 0 2px 4px rgba(255, 255, 255, 0.3),
                0 6px 12px rgba(0, 0, 0, 0.15),
                0 3px 6px rgba(0, 0, 0, 0.05);
            border: 1px solid var(--primary-600);
        }

        [data-theme="dark"] .donation-option.active {
            background: var(--primary-400);
            color: black;
            box-shadow:
                inset 0 2px 4px rgba(255, 255, 255, 0.1),
                0 6px 12px rgba(0, 0, 0, 0.25),
                0 3px 6px rgba(0, 0, 0, 0.1);
            border: 1px solid var(--primary-500);
        }

        .custom-amount {
            display: flex;
            gap: 8px;
            margin-bottom: 20px;
        }

        .custom-amount input {
            flex: 1;
            padding: 12px 16px;
            border-radius: var(--border-radius-sm);
            border: 1px solid var(--gray-300);
            font-family: inherit;
            font-size: 15px;
            transition: var(--transition);
        }

        [data-theme="dark"] .custom-amount input {
            background: var(--gray-700);
            border-color: var(--gray-600);
            color: var(--text-primary);
        }

        .custom-amount input:focus {
            outline: none;
            border-color: var(--primary-500);
            box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.2);
        }

        .custom-amount select {
            padding: 0 12px;
            border-radius: var(--border-radius-sm);
            border: 1px solid var(--gray-300);
            font-family: inherit;
            background: var(--surface);
            color: var(--text-primary);
        }

        .checkbox-container {
            display: flex;
            align-items: flex-start;
            gap: 12px;
            margin-bottom: 24px;
        }

        .checkbox-container input {
            margin-top: 3px;
            accent-color: var(--primary-500);
            min-width: 16px;
            min-height: 16px;
        }

        .checkbox-container label {
            font-size: 14px;
            color: var(--text-secondary);
        }

        .checkbox-container label a {
            color: var(--primary-500);
            text-decoration: none;
        }

        .checkbox-container label a:hover {
            text-decoration: underline;
        }

        #paypal-button-container {
            margin-top: 16px;
        }

        .paypal-disclaimer {
            font-size: 12px;
            color: var(--text-tertiary);
            margin-top: 16px;
            text-align: center;
        }

        /* Alternative payment methods */
        .alt-payment-methods {
            margin-top: 24px;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
            padding-top: 16px;
        }

        [data-theme="dark"] .alt-payment-methods {
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .alt-payment-title {
            font-size: 14px;
            color: var(--text-secondary);
            text-align: center;
            margin-bottom: 12px;
        }

        .alt-payment-buttons {
            display: flex;
            gap: 8px;
            justify-content: center;
        }

        .alt-payment-btn {
            background: var(--surface);
            border: 1px solid var(--gray-300);
            border-radius: var(--border-radius-sm);
            padding: 8px 12px;
            font-size: 14px;
            color: var(--text-secondary);
            cursor: pointer;
            transition: var(--transition);
        }

        [data-theme="dark"] .alt-payment-btn {
            border-color: var(--gray-600);
        }

        .alt-payment-btn:hover {
            background: var(--gray-100);
            color: var(--text-primary);
        }

        [data-theme="dark"] .alt-payment-btn:hover {
            background: var(--gray-700);
        }

        footer {
            text-align: center;
            font-size: 13px;
            color: var(--text-secondary);
            padding: 20px;
            border-top: 1px solid rgba(0, 0, 0, 0.05);
        }

        [data-theme="dark"] footer {
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        footer a {
            color: var(--primary-600);
            text-decoration: none;
            margin: 0 4px;
            cursor: pointer;
        }

        footer a:hover {
            text-decoration: underline;
        }

        .bottom-sheet {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--surface);
            border-radius: 24px 24px 0 0;
            padding: 24px;
            box-shadow: 0 -4px 24px rgba(0, 0, 0, 0.1);
            z-index: 10009;
            max-height: 90vh;
            overflow-y: auto;
            transform: translateY(100%);
            transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .bottom-sheet-header {
            position: sticky;
            top: 0;
            background: var(--surface);
            padding: 16px 0;
            margin-bottom: 16px;
            z-index: 1;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(0, 0, 0, 0.05);
        }

        [data-theme="dark"] .bottom-sheet-header {
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .bottom-sheet-content {
            padding: 16px 0;
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.7;
        }

        .bottom-sheet.active {
            transform: translateY(0);
        }

        .bottom-sheet-header h3 {
            margin: 0;
            font-size: 18px;
            font-weight: 600;
        }

        .bottom-sheet-close {
            background: none;
            border: none;
            font-size: 20px;
            color: var(--text-secondary);
            cursor: pointer;
            width: 36px;
            height: 36px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: var(--transition);
        }

        .bottom-sheet-close:hover {
            background: rgba(0, 0, 0, 0.05);
        }

        [data-theme="dark"] .bottom-sheet-close:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        body.bottom-sheet-open {
            overflow: hidden;
            position: fixed;
            width: 100%;
            height: 100%;
        }



        @media (max-width: 400px) {
            .donation-options {
                gap: 8px;
            }

            .donation-option {
                padding: 10px 12px;
                font-size: 14px;
            }

            .custom-amount {
                flex-direction: column;
            }

            .custom-amount input {
                width: 100%;
            }
        }

        /* Cookie consent banner */
        .cookie-consent {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--surface);
            padding: 40px 20px;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            border-bottom-left-radius: 30px;
            border-bottom-right-radius: 30px;
            transform: translateY(100%);
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
            gap: 12px;
            border-radius: 8px 8px 0 0;
        }

        .cookie-consent.active {
            transform: translateY(0);
        }

        .cookie-consent p {
            margin: 0;
            font-size: 14px;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .cookie-consent a {
            color: var(--primary-500);
            text-decoration: underline;
            cursor: pointer;
            font-size: 14px;
        }

        .cookie-consent-buttons {
            display: flex;
            gap: 12px;
            align-items: center;
            flex-wrap: wrap;
        }

        .cookie-btn {
            padding: 15px 16px;
            border-radius: 30px;
            font-size: 14px;
            cursor: pointer;
            transition: var(--transition);
            border: none;
            font-weight: 500;
        }

        .cookie-btn-accept {
            background: var(--primary-500);
            color: white;
            flex: 1;
        }

        .cookie-btn-accept:hover {
            background: var(--primary-600);
        }

        .cookie-btn-decline {
            background: transparent;
            border: 1px solid var(--gray-300);
            color: var(--text-secondary);
            flex: 1;
        }

        .cookie-btn-decline:hover {
            background: var(--gray-100);
        }

        /* Bottom sheet styles */
        .bottom-sheet {
            position: fixed;
            bottom: -100%;
            left: 0;
            right: 0;
            background: var(--surface);
            border-radius: 16px 16px 0 0;
            box-shadow: 0 -2px 20px rgba(0, 0, 0, 0.15);
            z-index: 1100;
            transition: bottom 0.3s ease;
            max-height: 80vh;
            overflow-y: auto;
        }

        .bottom-sheet.active {
            bottom: 0;
        }

        .bottom-sheet-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 20px;
            border-bottom: 1px solid var(--gray-200);
            position: sticky;
            top: 0;
            background: inherit;
            z-index: 1;
        }

        .bottom-sheet-header h3 {
            margin: 0;
            font-size: 18px;
        }

        .bottom-sheet-close {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-secondary);
            padding: 0 8px;
        }

        .bottom-sheet-content {
            padding: 20px;
        }

        .bottom-sheet-content h4 {
            margin-top: 16px;
            margin-bottom: 8px;
            font-size: 16px;
        }

        .bottom-sheet-content ul {
            padding-left: 20px;
            margin: 8px 0;
        }

        .bottom-sheet-content li {
            margin-bottom: 4px;
        }

        /* Overlay */
        .overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
        }

        .overlay.active {
            opacity: 1;
            pointer-events: auto;
        }

        /* Responsive adjustments */
        @media (min-width: 600px) {
            .cookie-consent {
                left: 50%;
                transform: translate(-50%, 100%);
                max-width: 600px;
                border-radius: 8px;
                bottom: 20px;
            }

            .cookie-consent.active {
                transform: translate(-50%, 0);
            }

            .bottom-sheet {
                left: 50%;
                transform: translateX(-50%);
                max-width: 600px;
                border-radius: 16px;
                bottom: -100%;
            }

            .bottom-sheet.active {
                bottom: 20px;
            }
        }
    </style>
</head>

<body>
    <header>
        <button class="back-button" onclick="history.back()">
            <i class="fas fa-chevron-left"></i>
        </button>

        <h3 style="margin: 0; font-weight: 500; flex: 1; text-align: center;">Support Us</h3>

        <button style="border: none; background: none; font-size: 20px; color: var(--primary-600);" class="services-button" href="#">
            <i class="fas fa-layer-group"></i>
        </button>
    </header>

    <main class="container">
        <div class="hero">
            <div class="hero-icon">
                <i class="fas fa-hands-helping"></i>
            </div>
            <style>
                @keyframes pulse-helping {
                    0% {
                        transform: scale(1);
                        opacity: 1;
                    }

                    50% {
                        transform: scale(1.1);
                        opacity: 0.8;
                    }

                    100% {
                        transform: scale(1);
                        opacity: 1;
                    }
                }

                .fa-hands-helping {
                    animation: pulse-helping 1.8s infinite ease-in-out;
                }
            </style>
            <h1>Help Keep Us Going</h1>
            <p>Your support allows us to continue developing and improving our services for everyone.</p>
        </div>

        <div class="donation-card">
            <h2>Select Donation Amount</h2>

            <div class="donation-options">
                <div class="donation-option" data-amount="50">₱50</div>
                <div class="donation-option" data-amount="100">₱100</div>
                <div class="donation-option active" data-amount="200">₱200</div>
                <div class="donation-option" data-amount="500">₱500</div>
            </div>

            <div class="custom-amount">
                <input type="number" id="custom-amount" style="width: 80%;" placeholder="Custom amount" min="1">
                <select id="currency">
                    <option value="PHP">PHP</option>
                    <option value="USD">USD</option>
                    <option value="EUR">EUR</option>
                </select>
            </div>

            <div class="checkbox-container">
                <input type="checkbox" id="terms-check" required>
                <label for="terms-check">I agree to the <a href="#" id="privacy-link">Privacy Policy</a> and <a href="#" id="terms-link">Terms of Service</a></label>
            </div>

            <div id="paypal-button-container"></div>
            <p class="paypal-disclaimer">
                All donations are processed securely through PayPal. We do not store, access, or handle your payment details.
                For more information, please refer to
                <a style="text-decoration: none; font-weight: bold;" href="https://www.paypal.com/us/webapps/mpp/ua/privacy-full" target="_blank" rel="noopener noreferrer">
                    PayPal’s Privacy Policy
                </a> and
                <a style="text-decoration: none; font-weight: bold;" href="https://www.paypal.com/us/webapps/mpp/paypal-safety-and-security" target="_blank" rel="noopener noreferrer">
                    Security Center
                </a>.
            </p>
        </div>
    </main>


    <footer>
        <p id="landecs-trigger" style="cursor: pointer; font-weight: bold;">
            © landecs 2025
        </p>
        <a href="#" id="footer-privacy-link">Privacy policy</a> |
        <a href="#" id="footer-security-link">Security Policy</a> |
        <a href="#" id="footer-terms-link">Terms or Use</a> |
        <a href="#" id="footer-cookie-link">Analytics</a>
    </footer>

    <div class="cookie-consent" id="cookie-consent">
        <p>
            This page uses anonymous analytics to help us understand how visitors interact with the donation flow.
            We do not collect, store, or share any personal data or payment information. You are in control of your data preferences.<a href="#" id="cookie-learn-more">Learn More</a>
        </p>
        <br>
        <div class="cookie-consent-buttons">
            <button class="cookie-btn cookie-btn-decline" id="cookie-decline-btn">Decline</button>
            <button class="cookie-btn cookie-btn-accept" id="cookie-accept-btn">Allow</button>
        </div>
    </div>
    <div class="overlay" id="overlay"></div>
    <div class="bottom-sheet" id="security-sheet">
        <div class="bottom-sheet-header">
            <h3>Security Policy</h3>
            <button class="bottom-sheet-close" id="security-close" aria-label="Close security policy">
                <i class="fas fa-times" aria-hidden="true"></i>
            </button>
        </div>

        <div class="bottom-sheet-content">
            <p><strong>Last Updated:</strong> August 1, 2025</p>
            <h4>Data Handling & Protection</h4>
            <p>
                We prioritize the security and privacy of all users. This page does not collect personally identifiable information (PII) or store any payment data. All donation transactions are securely processed through PayPal's infrastructure.
            </p>

            <h4>Analytics Security</h4>
            <p>
                We use Firebase Analytics to monitor basic page performance and interactions. All data is anonymous, transmitted securely (encrypted in transit), and stored within Google’s secured Firebase environment. No cookies or personal identifiers are used.
            </p>

            <h4>Platform Integrity & Connection</h4>
            <ul>
                <li>All connections are protected via HTTPS with TLS encryption</li>
                <li>Only essential third-party services are integrated: PayPal and Firebase</li>
                <li>No external trackers, ad scripts, or marketing pixels are embedded</li>
            </ul>

            <h4>Payment Security</h4>
            <p>
                All donations are completed via PayPal, a trusted global payment platform. We do not see, store, or access your card, bank, or account details. PayPal independently manages all transaction security using advanced encryption and fraud protection protocols.
            </p>

            <h4>Your Control</h4>
            <p>
                You may decline analytics tracking at any time through the consent banner. No personal or sensitive data is ever associated with analytics activity or shared with third parties.
            </p>

            <h4>Security Best Practices</h4>
            <p>
                For your safety, always ensure the page URL begins with <strong>https://</strong> and includes a trusted Landecs-hosted domain. Keep your browser and device software up to date, and avoid using public Wi-Fi when submitting sensitive actions like donations.
            </p>

            <h4>Report a Concern</h4>
            <p>
                If you have any concerns about data or payment security, or wish to report a potential issue, please contact us immediately at:
                <br>
                <strong>landecs.org@gmail.com</strong>
            </p>
        </div>
    </div>

    <div class="bottom-sheet" id="privacy-sheet">
        <div class="bottom-sheet-header">
            <h3>Privacy Policy</h3>
            <button class="bottom-sheet-close" id="privacy-close" aria-label="Close privacy policy">
                <i class="fas fa-times" aria-hidden="true"></i>
            </button>
        </div>
        <div class="bottom-sheet-content">
            <p><strong>Last Updated:</strong> August 1, 2025</p>
            <p>Landecs ("we", "us", "our") is committed to respecting and protecting your privacy. This Privacy Policy outlines how we collect, use, share, and safeguard your personal information when you visit our website or make a donation through our platform.</p>

            <h4>1. Information We Collect</h4>
            <ul>
                <li><strong>Personal Information:</strong> Name, email, and phone number provided voluntarily through forms or donations.</li>
                <li><strong>Payment Details:</strong> Payment processors like PayPal handle your payment information. We only receive transaction confirmation, not your card or banking data.</li>
                <li><strong>Usage Data:</strong> Information such as IP address, browser type, device type, and interaction behavior gathered through cookies and analytics tools.</li>
            </ul>

            <h4>2. Legal Grounds for Processing</h4>
            <ul>
                <li>Consent (e.g., analytics and cookies)</li>
                <li>Contract performance (processing donations)</li>
                <li>Legitimate interests (security and service improvement)</li>
                <li>Compliance with legal obligations</li>
            </ul>

            <h4>3. How We Use Your Information</h4>
            <ul>
                <li>To process donations and issue receipts</li>
                <li>To provide, manage, and improve our services</li>
                <li>To communicate with you regarding your transactions or inquiries</li>
                <li>To detect and prevent fraud and ensure the security of our systems</li>
                <li>To comply with legal or regulatory requirements</li>
            </ul>

            <h4>4. Data Sharing</h4>
            <ul>
                <li>With third-party payment processors</li>
                <li>With trusted service providers under strict confidentiality agreements</li>
                <li>With legal or regulatory authorities when required by law</li>
            </ul>
            <p>Data may be transferred and stored across jurisdictions, including outside your country of residence, subject to appropriate safeguards.</p>

            <h4>5. Data Retention</h4>
            <p>We retain your personal data only for as long as necessary to fulfill the purposes outlined above, unless a longer retention period is required or permitted by law.</p>

            <h4>6. Your Rights</h4>
            <p>You may have the following rights under data protection laws:</p>
            <ul>
                <li>Access your personal data</li>
                <li>Request correction or deletion</li>
                <li>Object to or restrict processing</li>
                <li>Withdraw consent at any time</li>
                <li>Request data portability</li>
            </ul>
            <p>To exercise these rights, email us at <strong>landecs.org@gmail.com</strong></p>

            <h4>7. Children's Privacy</h4>
            <p>Our services are not directed to children under 16. We do not knowingly collect personal data from minors. If you believe a child has provided data, please contact us for removal.</p>

            <h4>8. Changes to This Policy</h4>
            <p>We may update this Privacy Policy at any time. Updates will be posted on this page, and we will notify you of material changes via email or in-app messages.</p>

            <h4>9. Contact Us</h4>
            <p>If you have any questions or concerns about this Privacy Policy, please contact us at: <strong>landecs.org@gmail.com</strong></p>
        </div>
    </div>

    <div class="bottom-sheet" id="terms-sheet">
        <div class="bottom-sheet-header">
            <h3>Terms of Service</h3>
            <button class="bottom-sheet-close" id="terms-close" aria-label="Close terms of service">
                <i class="fas fa-times" aria-hidden="true"></i>
            </button>
        </div>
        <div class="bottom-sheet-content">
            <p><strong>Last Updated:</strong> August 1, 2025</p>

            <h4>1. Agreement to Terms</h4>
            <p>By using Landecs' services, you agree to be bound by these Terms of Service. If you do not accept these terms, you must stop using our services.</p>

            <h4>2. Donations</h4>
            <ul>
                <li>All donations are voluntary and non-refundable unless required by law.</li>
                <li>Donors must be at least 18 years old or have parental/guardian consent.</li>
                <li>You confirm that you are legally authorized to use the selected payment method.</li>
            </ul>

            <h4>3. Use of Donations</h4>
            <p>Funds received support the operations, development, and maintenance of Landecs services. Allocation of funds is determined at our sole discretion.</p>

            <h4>4. Acceptable Use</h4>
            <p>You agree not to:</p>
            <ul>
                <li>Use the service for unlawful or fraudulent purposes</li>
                <li>Attempt to access or interfere with any part of the service, servers, or data</li>
                <li>Upload false, misleading, or harmful information</li>
            </ul>

            <h4>5. Intellectual Property</h4>
            <p>All logos, trademarks, text, and visual content are the property of Landecs or its licensors. Unauthorized use or reproduction is prohibited.</p>

            <h4>6. Disclaimer</h4>
            <p>All services are provided “as is.” We make no warranties, either express or implied, including but not limited to warranties of merchantability or fitness for a particular purpose.</p>

            <h4>7. Limitation of Liability</h4>
            <p>To the maximum extent permitted by law, Landecs is not liable for any direct, indirect, incidental, or consequential damages resulting from the use or inability to use our services.</p>

            <h4>8. Indemnification</h4>
            <p>You agree to indemnify and hold Landecs and its affiliates harmless from any claims, damages, or expenses resulting from your violation of these Terms or misuse of our services.</p>

            <h4>9. Governing Law</h4>
            <p>These Terms are governed by the laws of the Republic of the Philippines. Legal proceedings shall be brought exclusively in Manila, Philippines.</p>

            <h4>10. Dispute Resolution</h4>
            <p>In case of disputes, both parties agree to attempt resolution through good-faith discussions before initiating arbitration or legal action.</p>

            <h4>11. Modifications</h4>
            <p>We may revise these Terms at any time. Continued use of the service after changes signifies your agreement to the updated terms.</p>

            <h4>12. Termination</h4>
            <p>We may terminate your access if you breach these Terms or misuse our services.</p>

            <h4>13. Entire Agreement</h4>
            <p>These Terms constitute the full agreement between you and Landecs and supersede all prior understandings.</p>

            <h4>14. Contact Information</h4>
            <p>For questions or feedback, contact us at <strong>landecs.org@gmail.com</strong></p>
        </div>
    </div>

    <div class="bottom-sheet" id="cookie-sheet" aria-labelledby="cookie-sheet-title" role="dialog">
        <div class="bottom-sheet-header">
            <h3 id="cookie-sheet-title">Analytics</h3>
            <button class="bottom-sheet-close" id="cookie-close" aria-label="Close analytics panel">
                &times;
            </button>
        </div>

        <div class="bottom-sheet-content">
            <p><strong>Last Updated:</strong> August 1, 2025</p>
            <h4>Purpose of Analytics</h4>
            <p>
                We use privacy-friendly analytics to understand general usage patterns and improve the functionality, accessibility, and performance of this donation page. All analytics are anonymous and solely used to optimize the user experience.
            </p>

            <h4>Data We Collect</h4>
            <ul>
                <li>Anonymous page visits and time spent</li>
                <li>Tap/click activity on donation buttons and links</li>
                <li>Device category (mobile, tablet, desktop)</li>
                <li>Performance metrics (e.g., load time, interaction lag)</li>
            </ul>

            <h4>Data We Do Not Collect</h4>
            <ul>
                <li>Your name, email, or payment information</li>
                <li>Precise geolocation (such as GPS)</li>
                <li>Identifiable IP addresses</li>
                <li>Browser fingerprinting or tracking pixels</li>
                <li>Cookies or any form of personally identifiable information (PII)</li>
            </ul>

            <h4>Technology Used</h4>
            <p>
                We utilize <strong>Firebase Analytics</strong> by Google. It generates anonymous session identifiers that cannot be used to identify or trace individual users. No personally identifiable information is ever collected or stored through this service.
            </p>

            <p>
                This implementation follows strict privacy practices and is designed to comply with major privacy regulations, including the <strong>General Data Protection Regulation (GDPR)</strong> and the <strong>California Consumer Privacy Act (CCPA)</strong>.
            </p>

            <h4>Your Control</h4>
            <p>
                You have the right to opt out of analytics tracking. When the consent prompt appears, you can select <strong>"Decline"</strong> to disable analytics. If you have previously accepted tracking and wish to revoke it, clear the site's storage via your browser settings or revisit the consent banner.
            </p>

            <h4>Additional Information</h4>
            <p>
                To learn more about Firebase Analytics and how Google handles data securely and respectfully, please visit:
                <br>
                <a href="https://firebase.google.com/support/privacy" target="_blank" rel="noopener noreferrer">
                    Firebase Privacy & Security Policy
                </a>
            </p>
        </div>
    </div>

    <!-- Overlay for Bottom Sheet -->
    <div class="overlay" id="overlay"></div>

    <script src="config.private.js"></script>
    <script src="https://www.paypal.com/sdk/js?client-id=test&currency=PHP" data-client-token></script>


    <script type="module">
        // Import Firebase modules (using v9+ modular SDK)
        import {
            initializeApp
        } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-app.js";
        import {
            getAnalytics,
            setUserProperties,
            logEvent,
            setCurrentScreen
        } from "https://www.gstatic.com/firebasejs/9.0.0/firebase-analytics.js";

        // Get configuration from config.js
        const firebaseConfig = window.appConfig.getFirebaseConfig();
        const paypalConfig = window.appConfig.getPayPalConfig();

        // Initialize PayPal SDK dynamically with config values
        const paypalScript = document.querySelector('script[data-client-token]');
        paypalScript.src = `https://www.paypal.com/sdk/js?client-id=${paypalConfig.clientId}&currency=${paypalConfig.currency}`;

        // DOM Elements
        const privacyLink = document.getElementById('privacy-link');
        const termsLink = document.getElementById('terms-link');
        const footerPrivacyLink = document.getElementById('footer-privacy-link');
        const footerTermsLink = document.getElementById('footer-terms-link');

        // Bottom sheets
        const privacySheet = document.getElementById('privacy-sheet');
        const termsSheet = document.getElementById('terms-sheet');
        const cookieSheet = document.getElementById('cookie-sheet');

        // Close buttons
        const privacyClose = document.getElementById('privacy-close');
        const termsClose = document.getElementById('terms-close');

        // Overlay
        const overlay = document.getElementById('overlay');

        // Selected amount and currency
        let selectedAmount = 200;
        let selectedCurrency = paypalConfig.currency;

        // Firebase variables
        let app;
        let analytics;
        let trackingConsentGiven = false;

        // Initialize Firebase conditionally based on consent
        function initializeFirebase() {
            if (!checkCookieConsent()) return;

            try {
                app = initializeApp(firebaseConfig);
                analytics = getAnalytics(app);

                // Set user properties
                setUserProperties(analytics, {
                    anonymous_id: generateAnonymousId(),
                    tracking_consent: true
                });

                // Log initialization event
                logEvent(analytics, 'analytics_initialized');
                trackScreenView(); // Track initial screen view
                trackingConsentGiven = true;
            } catch (error) {
                console.error('Firebase initialization error:', error);
            }
        }

        // Track screen views
        function trackScreenView(screenName = null) {
            if (!trackingConsentGiven || !analytics) return;

            try {
                const screen = screenName || document.title || window.location.pathname;
                setCurrentScreen(analytics, screen);
                logEvent(analytics, 'screen_view', {
                    screen_name: screen,
                    screen_class: document.title || 'Unknown'
                });
            } catch (error) {
                console.error('Screen view tracking error:', error);
            }
        }

        // Generate anonymous ID for tracking
        function generateAnonymousId() {
            let id = localStorage.getItem('anonymous_id');
            if (!id) {
                id = 'anon_' + Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
                localStorage.setItem('anonymous_id', id);
            }
            return id;
        }

        // Track events with consent check
        function trackEvent(eventName, eventParams = {}) {
            if (!trackingConsentGiven) return;

            try {
                logEvent(analytics, eventName, {
                    ...eventParams,
                    currency: selectedCurrency,
                    page_title: document.title,
                    page_location: window.location.href
                });
            } catch (error) {
                console.error('Tracking error:', error);
            }
        }

        // Bottom sheet functionality
        function openBottomSheet(sheet) {
            sheet.classList.add('active');
            overlay.classList.add('active');
            document.body.style.overflow = 'hidden';

            // Track which sheet was opened
            if (sheet === privacySheet) {
                trackEvent('privacy_policy_viewed');
                trackScreenView('Privacy Policy');
            } else if (sheet === termsSheet) {
                trackEvent('terms_viewed');
                trackScreenView('Terms and Conditions');
            }
        }

        function closeBottomSheets() {
            privacySheet.classList.remove('active');
            termsSheet.classList.remove('active');
            overlay.classList.remove('active');
            document.body.style.overflow = '';
            trackScreenView(); // Return to main screen view
        }

        // Cookie consent functions (placeholder - implement as needed)
        function checkCookieConsent() {
            // Implement your actual cookie consent logic
            return true; // Temporary for example
        }

        function initCookieConsent() {
            // Implement your cookie consent initialization
        }

        // Event listeners for opening sheets
        [privacyLink, footerPrivacyLink].forEach(link => {
            if (link) {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    openBottomSheet(privacySheet);
                });
            }
        });

        [termsLink, footerTermsLink].forEach(link => {
            if (link) {
                link.addEventListener('click', (e) => {
                    e.preventDefault();
                    openBottomSheet(termsSheet);
                });
            }
        });

        // Event listeners for closing sheets (only X buttons)
        if (privacyClose) privacyClose.addEventListener('click', closeBottomSheets);
        if (termsClose) termsClose.addEventListener('click', closeBottomSheets);

        // Initialize everything when DOM is loaded
        document.addEventListener('DOMContentLoaded', () => {
            initCookieConsent();
            initializeFirebase();
            trackScreenView();
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // DOM Elements
            const cookieConsent = document.getElementById('cookie-consent');
            const cookieAcceptBtn = document.getElementById('cookie-accept-btn');
            const cookieDeclineBtn = document.getElementById('cookie-decline-btn');
            const cookieLearnMore = document.getElementById('cookie-learn-more');
            const cookieSheet = document.getElementById('cookie-sheet');
            const cookieClose = document.getElementById('cookie-close');
            const overlay = document.getElementById('overlay');

            // Check if user has made a choice before
            function hasCookieConsent() {
                return localStorage.getItem('cookieConsent') !== null;
            }

            // Show the cookie banner with animation
            function showCookieBanner() {
                if (cookieConsent) {
                    // Trigger reflow to enable animation
                    void cookieConsent.offsetWidth;
                    cookieConsent.classList.add('active');
                }
            }

            // Hide the cookie banner
            function hideCookieBanner() {
                if (cookieConsent) {
                    cookieConsent.classList.remove('active');
                    // Remove from DOM after animation completes
                    setTimeout(() => {
                        cookieConsent.style.display = 'none';
                    }, 300);
                }
            }

            // Show bottom sheet
            function showBottomSheet(sheet) {
                sheet.classList.add('active');
                overlay.classList.add('active');
                document.body.style.overflow = 'hidden';
            }

            // Hide all bottom sheets
            function hideBottomSheets() {
                document.querySelectorAll('.bottom-sheet').forEach(sheet => {
                    sheet.classList.remove('active');
                });
                overlay.classList.remove('active');
                document.body.style.overflow = '';
            }

            // Set cookie consent choice
            function setCookieConsent(choice) {
                localStorage.setItem('cookieConsent', choice);
                if (choice === 'accepted') {
                    initializeAnalytics();
                }
                hideCookieBanner();
            }

            // Initialize analytics if accepted
            function initializeAnalytics() {
                // Replace with your actual analytics initialization code
                console.log('Analytics initialized - Tracking enabled');
            }

            // Event listeners
            if (cookieAcceptBtn) {
                cookieAcceptBtn.addEventListener('click', () => setCookieConsent('accepted'));
            }

            if (cookieDeclineBtn) {
                cookieDeclineBtn.addEventListener('click', () => setCookieConsent('declined'));
            }

            if (cookieLearnMore) {
                cookieLearnMore.addEventListener('click', (e) => {
                    e.preventDefault();
                    showBottomSheet(cookieSheet);
                });
            }

            if (cookieClose) {
                cookieClose.addEventListener('click', hideBottomSheets);
            }

            if (overlay) {
                overlay.addEventListener('click', hideBottomSheets);
            }

            // Initialize cookie banner
            function initCookieBanner() {
                if (!hasCookieConsent()) {
                    showCookieBanner();
                } else {
                    // If choice was already made, hide the banner
                    cookieConsent.style.display = 'none';

                    // Initialize analytics if previously accepted
                    if (localStorage.getItem('cookieConsent') === 'accepted') {
                        initializeAnalytics();
                    }
                }
            }

            // Start the cookie banner flow
            initCookieBanner();
        });
    </script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // =============================================
            // DOM Elements
            // =============================================
            const elements = {
                // Donation elements
                donationOptions: document.querySelectorAll('.donation-option'),
                customAmountInput: document.getElementById('custom-amount'),
                currencySelect: document.getElementById('currency'),
                termsCheck: document.getElementById('terms-check'),
                paypalButtonContainer: document.getElementById('paypal-button-container'),

                // Policy links
                privacyLink: document.getElementById('privacy-link'),
                termsLink: document.getElementById('terms-link'),
                footerPrivacyLink: document.getElementById('footer-privacy-link'),
                footerTermsLink: document.getElementById('footer-terms-link'),
                footerCookieLink: document.getElementById('footer-cookie-link'),
                footerSecurityLink: document.getElementById('footer-security-link'),
                cookiePolicyLink: document.getElementById('cookie-policy-link'),
                cookieLearnMore: document.getElementById('cookie-learn-more'),

                // Bottom sheets
                privacySheet: document.getElementById('privacy-sheet'),
                termsSheet: document.getElementById('terms-sheet'),
                cookieSheet: document.getElementById('cookie-sheet'),
                securitySheet: document.getElementById('security-sheet'),

                // Close buttons
                privacyClose: document.getElementById('privacy-close'),
                termsClose: document.getElementById('terms-close'),
                cookieClose: document.getElementById('cookie-close'),
                securityClose: document.getElementById('security-close'),

                // Cookie consent
                cookieConsent: document.getElementById('cookie-consent'),
                cookieAcceptBtn: document.getElementById('cookie-accept-btn'),
                cookieDeclineBtn: document.getElementById('cookie-decline-btn'),

                // Overlay
                overlay: document.getElementById('overlay')
            };

            // =============================================
            // State Variables
            // =============================================
            let state = {
                selectedAmount: 200,
                selectedCurrency: 'PHP',
                trackingConsentGiven: false,
                firebase: {
                    app: null,
                    analytics: null
                }
            };

            // =============================================
            // Core Functions
            // =============================================

            // Initialize Firebase conditionally based on consent
            async function initializeFirebase() {
                if (!checkCookieConsent()) return;

                try {
                    const {
                        initializeApp
                    } = await import("https://www.gstatic.com/firebasejs/9.6.0/firebase-app.js");
                    const {
                        getAnalytics,
                        logEvent,
                        setUserProperties,
                        setCurrentScreen
                    } = await import("https://www.gstatic.com/firebasejs/9.6.0/firebase-analytics.js");

                    state.firebase.app = initializeApp(firebaseConfig);
                    state.firebase.analytics = getAnalytics(state.firebase.app);

                    // Set user properties
                    setUserProperties(state.firebase.analytics, {
                        anonymous_id: generateAnonymousId(),
                        tracking_consent: true
                    });

                    // Log initialization event
                    logEvent(state.firebase.analytics, 'analytics_initialized');
                    trackScreenView();
                    state.trackingConsentGiven = true;
                } catch (error) {
                    console.error('Firebase initialization error:', error);
                }
            }

            // Track screen views
            function trackScreenView(screenName = null) {
                if (!state.trackingConsentGiven || !state.firebase.analytics) return;

                try {
                    const screen = screenName || document.title || window.location.pathname;
                    setCurrentScreen(state.firebase.analytics, screen);
                    logEvent(state.firebase.analytics, 'screen_view', {
                        screen_name: screen,
                        screen_class: document.title || 'Unknown'
                    });
                } catch (error) {
                    console.error('Screen view tracking error:', error);
                }
            }

            // Track events with consent check
            function trackEvent(eventName, eventParams = {}) {
                if (!state.trackingConsentGiven || !state.firebase.analytics) return;

                try {
                    logEvent(state.firebase.analytics, eventName, {
                        ...eventParams,
                        currency: state.selectedCurrency,
                        page_title: document.title,
                        page_location: window.location.href
                    });
                } catch (error) {
                    console.error('Tracking error:', error);
                }
            }

            // =============================================
            // Utility Functions
            // =============================================

            function generateAnonymousId() {
                let id = localStorage.getItem('anonymous_id');
                if (!id) {
                    id = 'anon_' + Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);
                    localStorage.setItem('anonymous_id', id);
                }
                return id;
            }

            function checkCookieConsent() {
                return localStorage.getItem('cookieConsent') === 'accepted';
            }

            // =============================================
            // UI Functions
            // =============================================

            // Bottom sheet functionality
            function openBottomSheet(sheet) {
                if (!sheet) return;

                sheet.classList.add('active');
                elements.overlay.classList.add('active');
                document.body.style.overflow = 'hidden';

                // Track which sheet was opened
                const sheetEvents = {
                    [elements.privacySheet]: {
                        event: 'privacy_policy_viewed',
                        screen: 'Privacy Policy'
                    },
                    [elements.termsSheet]: {
                        event: 'terms_viewed',
                        screen: 'Terms and Conditions'
                    },
                    [elements.cookieSheet]: {
                        event: 'cookie_policy_viewed',
                        screen: 'Cookie Policy'
                    },
                    [elements.securitySheet]: {
                        event: 'security_policy_viewed',
                        screen: 'Security Policy'
                    }
                };

                const trackingInfo = sheetEvents[sheet];
                if (trackingInfo) {
                    trackEvent(trackingInfo.event);
                    trackScreenView(trackingInfo.screen);
                }
            }

            function closeBottomSheets() {
                document.querySelectorAll('.bottom-sheet').forEach(sheet => {
                    sheet.classList.remove('active');
                });
                elements.overlay.classList.remove('active');
                document.body.style.overflow = '';
                trackScreenView();
            }

            // Cookie consent functions
            function acceptCookies() {
                localStorage.setItem('cookieConsent', 'accepted');
                localStorage.setItem('cookieBannerShown', 'true');
                hideCookieBanner();
                initializeFirebase();
                trackEvent('cookie_consent_accepted');
            }

            function declineCookies() {
                localStorage.setItem('cookieConsent', 'declined');
                localStorage.setItem('cookieBannerShown', 'true');
                hideCookieBanner();
                trackEvent('cookie_consent_declined');
            }

            function showCookieBanner() {
                if (elements.cookieConsent) {
                    void elements.cookieConsent.offsetWidth; // Trigger reflow
                    elements.cookieConsent.classList.add('active');
                }
            }

            function hideCookieBanner() {
                if (elements.cookieConsent) {
                    elements.cookieConsent.classList.remove('active');
                    setTimeout(() => {
                        elements.cookieConsent.style.display = 'none';
                    }, 300);
                }
            }

            function initCookieConsent() {
                const bannerShown = localStorage.getItem('cookieBannerShown');
                const consentGiven = localStorage.getItem('cookieConsent');

                if (!bannerShown && !consentGiven) {
                    elements.cookieConsent.style.display = 'block';
                    showCookieBanner();
                } else {
                    elements.cookieConsent.style.display = 'none';
                }
            }

            // =============================================
            // Payment Functions
            // =============================================

            function initPayPalButton() {
                if (typeof paypal === 'undefined') return;

                paypal.Buttons({
                    style: {
                        shape: 'pill',
                        color: 'gold',
                        layout: 'vertical',
                        label: 'donate'
                    },
                    createOrder: function(data, actions) {
                        if (!elements.termsCheck.checked) {
                            trackEvent('donation_error', {
                                error: 'terms_not_accepted'
                            });
                            alert('Please agree to the terms before donating');
                            return false;
                        }

                        if (state.selectedAmount <= 0) {
                            trackEvent('donation_error', {
                                error: 'invalid_amount'
                            });
                            alert('Please enter a valid donation amount');
                            return false;
                        }

                        trackEvent('donation_started', {
                            amount: state.selectedAmount,
                            currency: state.selectedCurrency
                        });

                        return actions.order.create({
                            purchase_units: [{
                                amount: {
                                    value: state.selectedAmount.toFixed(2),
                                    currency_code: state.selectedCurrency
                                }
                            }]
                        });
                    },
                    onApprove: function(data, actions) {
                        return actions.order.capture().then(function(details) {
                            new mdui.snackbar({
                                message: 'Thank you for your donation!',
                                position: 'right-bottom'
                            });

                            trackEvent('donation_completed', {
                                amount: state.selectedAmount,
                                currency: state.selectedCurrency,
                                transaction_id: data.orderID,
                                payer_id: details.payer.payer_id
                            });
                        });
                    },
                    onError: function(err) {
                        console.error('PayPal error:', err);
                        trackEvent('donation_error', {
                            error: err.message || 'unknown_error',
                            amount: state.selectedAmount,
                            currency: state.selectedCurrency
                        });

                        new mdui.snackbar({
                            message: 'An error occurred with your donation. Please try again.',
                            position: 'right-bottom'
                        });
                    },
                    onClick: function() {
                        trackEvent('donation_button_click', {
                            amount: state.selectedAmount,
                            currency: state.selectedCurrency
                        });
                    }
                }).render('#paypal-button-container');
            }

            // =============================================
            // Event Listeners
            // =============================================

            // Donation options
            elements.donationOptions.forEach(option => {
                option.addEventListener('click', function() {
                    elements.donationOptions.forEach(opt => opt.classList.remove('active'));
                    this.classList.add('active');
                    state.selectedAmount = parseInt(this.dataset.amount);
                    elements.customAmountInput.value = '';
                    trackEvent('donation_option_selected', {
                        amount: state.selectedAmount,
                        currency: state.selectedCurrency
                    });
                });
            });

            // Custom amount input
            elements.customAmountInput.addEventListener('input', function() {
                if (this.value) {
                    elements.donationOptions.forEach(opt => opt.classList.remove('active'));
                    state.selectedAmount = parseFloat(this.value) || 0;
                    trackEvent('custom_amount_entered', {
                        amount: state.selectedAmount,
                        currency: state.selectedCurrency
                    });
                }
            });

            // Currency change
            elements.currencySelect.addEventListener('change', function() {
                state.selectedCurrency = this.value;
                trackEvent('currency_changed', {
                    currency: state.selectedCurrency
                });
            });

            // Terms checkbox
            if (elements.termsCheck) {
                elements.termsCheck.addEventListener('change', (e) => {
                    trackEvent('terms_toggled', {
                        checked: e.target.checked
                    });
                });
            }

            // Policy links
            [elements.privacyLink, elements.footerPrivacyLink].forEach(link => {
                if (link) link.addEventListener('click', (e) => {
                    e.preventDefault();
                    openBottomSheet(elements.privacySheet);
                });
            });

            [elements.termsLink, elements.footerTermsLink].forEach(link => {
                if (link) link.addEventListener('click', (e) => {
                    e.preventDefault();
                    openBottomSheet(elements.termsSheet);
                });
            });

            [elements.cookiePolicyLink, elements.footerCookieLink, elements.cookieLearnMore].forEach(link => {
                if (link) link.addEventListener('click', (e) => {
                    e.preventDefault();
                    openBottomSheet(elements.cookieSheet);
                });
            });

            if (elements.footerSecurityLink) {
                elements.footerSecurityLink.addEventListener('click', (e) => {
                    e.preventDefault();
                    openBottomSheet(elements.securitySheet);
                });
            }

            // Close buttons
            [elements.privacyClose, elements.termsClose, elements.cookieClose, elements.securityClose, elements.overlay].forEach(el => {
                if (el) el.addEventListener('click', closeBottomSheets);
            });

            // Cookie consent buttons
            if (elements.cookieAcceptBtn) elements.cookieAcceptBtn.addEventListener('click', acceptCookies);
            if (elements.cookieDeclineBtn) elements.cookieDeclineBtn.addEventListener('click', declineCookies);

            // Keyboard support
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') closeBottomSheets();
            });

            // Page visibility changes
            document.addEventListener('visibilitychange', () => {
                if (document.visibilityState === 'visible') trackScreenView();
            });

            // =============================================
            // Initialization
            // =============================================
            function initialize() {
                initCookieConsent();
                initializeFirebase();
                trackScreenView();

                // Initialize PayPal button
                if (typeof paypal !== 'undefined') {
                    initPayPalButton();
                } else {
                    window.addEventListener('load', initPayPalButton);
                }
            }

            initialize();
        });
    </script>
    <script>
const officialHost = 'countify-black.vercel.app';
  const redirectPath = '/functions/donation.html';
  const fullRedirectURL = 'https://' + officialHost + redirectPath;

  const isNotOfficial =
    location.hostname !== officialHost ||
    (document.referrer && !document.referrer.includes(officialHost));

  if (isNotOfficial) {
    window.location.replace(fullRedirectURL);
  }

  if (window.top !== window.self) {
    window.top.location = window.self.location; // Break out of iframe
  }

  if (location.protocol !== 'https:') {
    location.href = 'https://' + location.hostname + location.pathname + location.search;
  }

  if (location.protocol !== 'https:') {
    document.write("Please use a secure connection (HTTPS).");
    throw new Error("Insecure connection.");
  }

  // Block right-click
  document.addEventListener('contextmenu', e => e.preventDefault());

  // Block F12, Ctrl+Shift+I, etc.
  document.addEventListener('keydown', e => {
    if (
      e.key === 'F12' ||
      (e.ctrlKey && e.shiftKey && ['I', 'J', 'C'].includes(e.key.toUpperCase())) ||
      (e.ctrlKey && e.key.toUpperCase() === 'U')
    ) {
      e.preventDefault();
    }
  });

  const isFramed = window.top !== window.self;
  const isDevToolsOpen = () => {
    const start = performance.now();
    debugger;
    return performance.now() - start > 50;
  };

  if (isFramed || isDevToolsOpen()) {
    document.body.innerHTML = "";
    alert("Unauthorized access detected. Exiting...");
    throw new Error("Blocked.");
  }

        if (window.top !== window.self) {
            // Optional visual fallback
            document.documentElement.innerHTML = "";
            alert("Embedding is not allowed. Redirecting to the official site.");

            // Redirect to your real page
            window.top.location = "https://countify.landecs.org/functions/donation";
        }
    </script>
</body>

</html>