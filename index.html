<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="theme-color" content="#7c3aed" />
    <meta name="description" content="Countify Lite - Advanced writing analytics tool with word count, character count, reading time and more" />
    <title>Countify+</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<link rel="icon" href="countify.svg" type="image/svg+xml">
    <link rel="stylesheet" href="https://eldrexdelosreyesbula.github.io/Counting-/mdui.css">
    <link rel="stylesheet" href="https://eldrexdelosreyesbula.github.io/Counting-/mdui.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="main.css" />
    <link rel="manifest" href="https://eldrexdelosreyesbula.github.io/Counting-/manifest.json" />

<style>
@font-face {
  font-family: 'Material Icons';
  font-style: normal;
  font-weight: 400;
  src: url('fonts/MaterialIcons-Regular.woff2') format('woff2'),
       url('fonts/MaterialIcons-Regular.woff') format('woff');
}
.material-icons {
  font-family: 'Material Icons';
  font-weight: normal;
  font-style: normal;
  font-size: 24px;
  display: inline-block;
}
</style>
</head>
<body>
    <div class="app">
    </div>

    <!-- Your JS -->
    <script src="main.js"></script>
<script>
document.addEventListener('DOMContentLoaded', () => {
  // Register service worker
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', () => {
      navigator.serviceWorker.register('sw.js')
        .then(registration => {
          console.log('ServiceWorker registration successful');
        })
        .catch(err => {
          console.log('ServiceWorker registration failed: ', err);
        });
    });
  }

  // Check if app is launched as PWA
  if (window.matchMedia('(display-mode: standalone)').matches) {
    console.log('Launched as PWA');
  }

  // Add download button event listener
  const downloadButton = document.getElementById('downloadSwButton');
  if (downloadButton) {
    downloadButton.addEventListener('click', () => {
      downloadSwFile();
    });
  }

  // Define the download function
  function downloadSwFile() {
    const link = document.createElement('a');
    link.href = '/sw.js';
    link.download = 'sw.js';
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
  }

  // Initialize your app
  console.log('Countify+ initialized');
});
</script>
</body>

</html>
